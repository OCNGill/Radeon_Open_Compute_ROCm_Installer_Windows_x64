<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Fragment>
    <ComponentGroup Id="ROCmRuntimeComponents">
   <ComponentRef Id="ROCmScripts" />
      <ComponentRef Id="ROCmRegistry" />
      <ComponentRef Id="ROCmDocumentation" />
    </ComponentGroup>

    <DirectoryRef Id="ScriptsFolder">
      <Component Id="ROCmScripts" Guid="{A1B2C3D4-E5F6-4701-8ABC-1234567890AB}">
  <!-- Installation scripts -->
      <File Id="install_rocm.sh" Source="..\src\scripts\install_rocm.sh" KeyPath="yes" />
  <File Id="rocm_wsl2_setup.sh" Source="..\src\scripts\rocm_wsl2_setup.sh" />
        <File Id="wsl2_setup.ps1" Source="..\src\scripts\wsl2_setup.ps1" />
        <File Id="master_installer.ps1" Source="..\src\scripts\master_installer.ps1" />
      </Component>
    </DirectoryRef>

<DirectoryRef Id="DocsFolder">
  <Component Id="ROCmDocumentation" Guid="{B2C3D4E5-F6A7-4802-9BCD-2345678901BC}">
        <File Id="README.md" Source="..\README.md" KeyPath="yes" />
    <File Id="QUICKSTART.md" Source="..\QUICKSTART.md" />
  <File Id="TROUBLESHOOTING.md" Source="..\docs\TROUBLESHOOTING.md" />
      <File Id="USAGE_EXAMPLES.md" Source="..\docs\USAGE_EXAMPLES.md" />
      </Component>
    </DirectoryRef>

    <DirectoryRef Id="TARGETDIR">
 <Component Id="ROCmRegistry" Guid="{C3D4E5F6-A7B8-4903-ABCD-3456789012CD}">
    <!-- Registry keys for ROCm installation -->
        <RegistryKey Root="HKLM" Key="Software\ROCm">
  <RegistryValue Type="string" Name="InstallPath" Value="[INSTALLFOLDER]" KeyPath="yes" />
    <RegistryValue Type="string" Name="Version" Value="6.1.3" />
   <RegistryValue Type="string" Name="WSLDistribution" Value="Ubuntu-22.04" />
  <RegistryValue Type="string" Name="InstallDate" Value="[Date]" />
        </RegistryKey>
   
        <!-- Uninstall registry entries -->
    <RegistryKey Root="HKLM" Key="Software\Microsoft\Windows\CurrentVersion\Uninstall\[ProductCode]">
        <RegistryValue Type="string" Name="DisplayName" Value="AMD ROCm Windows 11 Installer" />
       <RegistryValue Type="string" Name="DisplayVersion" Value="[ProductVersion]" />
          <RegistryValue Type="string" Name="Publisher" Value="ROCm Community" />
   <RegistryValue Type="string" Name="URLInfoAbout" Value="https://github.com/OCNGill/rOCM_Installer_Win11" />
<RegistryValue Type="string" Name="DisplayIcon" Value="[INSTALLFOLDER]rocm_icon.ico" />
<RegistryValue Type="integer" Name="NoModify" Value="1" />
          <RegistryValue Type="integer" Name="NoRepair" Value="1" />
        </RegistryKey>
</Component>
    </DirectoryRef>
  </Fragment>
</Wix>
